<!DOCTYPE html>
<html><head>
  <meta charset="utf-8">
  <meta name="description" content="Sage-Code Eve programming language specification, by Sage-Code Laboratory.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="SageCode,Sage-Code, EVE, Eve, eve, EveLang, programming language, functions">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- Website title -->
  <title>Eve Functions</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="../images/favicon.ico">
  <!-- Eve code highlighter -->
  <script src="eve.js"></script>
  <!-- Sage-Code custom CSS -->
  <link rel="stylesheet" href="../sage.css">
  </head>
<body onload="eve_render();">

<div class="container">

<!-- header -->
<div class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="../images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>
    <div class="col  bottom-right">
        <a href="index.html#lang-index">index</a><--
    </div>
</div><hr>

<h1><a id="functions">Eve Functions</h1>

<div class="alert alert-secondary shadow-sm">
A function is a relation between some input values and output values. A function may or may not make a computation to establish the output. Eve functions are actually special objects of type Function.</div>

<p>Functions are declared with keyword: "function". A function can be public or private. You can define public functions in modules and private functions in other scripts.</p>

<h4>Pattern:</h4>

<pre><code class="language-eve">#function declaration
function name(parameters) =&gt; (@result:TypeName):
  ** executable block
  ...
return;
</code></pre>

<h4>Notes:</h4>

<ul>
<li>Result type can be declared explicit usin @ prefix,</li>
<li>A function can have input/output parameters,</li>
<li>A function can receive parameters of type function,</li>
<li>A function can return a result but the result is optional,</li>
<li>A function can create as a result another function called closure,</li>
<li>A function can raise errors but it can't handle errors,</li>
</ul>

<p><b>Execute function</b>&nbsp;Function is executed in expressions using the name of the function followed by semicolumn, or one argument, or a list of arguments in round brackets (). In expressions, the brackets are mandatory even if there are no arguments.</p>

<pre><code class="language-eve">
#demo function execiton
driver function_ex:

** declare functions
function name1(param :Type,...) => (@result:Type):
   let result := expression;
return;

function name2(param := value,...) => (@result:Type):
   let result := expression;
return;

process
  ** execute using argument list
  new result1 := name1(arguments);

  ** execute using parameter names with pair operator (:)
  new result2 := name2(param:arg,....);
return;
</code></pre>

<p><b>Note:</b>&nbsp;Argument value can be anything that translate to a value of expected type:</p>
<ul>
<li>value ::= constant | variable</li>
<li>value ::= expression | other function call</li>
</ul>

<h4>formal parameters</h4>
<ul>
<li>Parameters are declared in parenthesis () after the function name,</li>
<li>Each parameter has name and type and can have one default value,</li>
<li>When a function is called each parameter receive an argument.</li>
</ul>

<h4>function arguments</h4>

<p>There is a difference between the parameter and the argument. The parameter is a local variable in the function scope while arguments are values assigned to these parameters in a function call. Arguments can be literals, constants or variables.</p>

<h4>Example:</h4>
<pre><code class="language-eve"># demo function with parameters
driver function_params:

function sum(a, b: Integer) => (@result:Integer):
  let result := (a + b);
return;

process
  print sum(1,2);  -- 3
  print sum(2,4);  -- 6
return;
</code></pre>

<p><b>Function call</b>&nbsp; Some functions do not have a result and can have side-effects. You can call this kind of function without round brackets () when there is no argument or a single argument. For more argumetns, function call require brackets and ";". </p>

<pre><code class="language-eve">
#demo function call
driver function_call:

** declare functions
function name1();
function name2(param = value: Type,...);
  ...

process
  ** call using single argument
  name1 argument;

  ** call using many arguments with values (:)
  call name2 (param:arg_value, ...);
return;
</code></pre>

<h2><a id="lambdas"></li>Lambda expressions</h2>

<p>Lambda expressions are simple functions that respect arithmetic rules. These can receive several arguments and can produce one result. A lambda expression is created with keywords "set" or "new". Lambda expressions do not have local variables or states and do not have side effects.</p>

<p>Lambda expressions can be declared in "lambda" regions. You can define more than one lambda regions. You can also create new lambda expressions in a process at runtime. Sometimes lambda expressions are anonymous.</p>

<h4>Example</h4>

<p>In next example we define two lambda expressions.</p>

<pre><code class="language-eve">
lambda
  set sum = (p1, p2 :Integer) => (p1 + p2):Integer;
  set sqr = (p1, p2 :Integer) => (p1 * p2):Integer;
</code></pre>

<h4>Signature</h4>

<p>Labda expression signature can be declared as data type using keyword "class". This feature can be used to enforce a specific signature for a <em>call-back</em> argument.<p>

<pre><code class="language-eve">
# define a lambda signature
driver lam_sig

class BinEx = (p1, p2 :Integer):Integer <: Lambda;

** Use lambda signature as parameter type
function useLambda(test :BinEx):
   print test(); -- callback
return;

** Execute a process with lambda argument
process
   useLambda((x, y) => (x + y));
return;
</code></pre>

<!-- work in progress-->

<hr>
<p><b>Read next:</b>
<a href="collections.html">Collections</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>
</div>
</body>
</html>